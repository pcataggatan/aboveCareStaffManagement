<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Wed Dec 06 23:10:29 CST 2017 -->
<title>ClientZipCodeAPI</title>
<meta name="date" content="2017-12-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ClientZipCodeAPI";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientZipCodeAPI.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../edu/matc/controller/AssignClientForm.html" title="class in edu.matc.controller"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../edu/matc/controller/ClientZipCodeAPIForm.html" title="class in edu.matc.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?edu/matc/controller/ClientZipCodeAPI.html" target="_top">Frames</a></li>
<li><a href="ClientZipCodeAPI.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.matc.controller</div>
<h2 title="Class ClientZipCodeAPI" class="title">Class ClientZipCodeAPI</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>javax.servlet.GenericServlet</li>
<li>
<ul class="inheritance">
<li>javax.servlet.http.HttpServlet</li>
<li>
<ul class="inheritance">
<li>edu.matc.controller.ClientZipCodeAPI</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, javax.servlet.Servlet, javax.servlet.ServletConfig</dd>
</dl>
<hr>
<br>
<pre>@WebServlet(name="clientZipCode",
            urlPatterns="/client-zipcode")
public class <span class="typeNameLabel">ClientZipCodeAPI</span>
extends javax.servlet.http.HttpServlet</pre>
<div class="block">This is the ClientZipCodeAPI servlet. It retrieves the zipcode and radius from the request parameters and calls the
 zipcode api to get all the data items that satisfy the api request. If an invalid or bad request is submitted, it
 forwards to the request/response to the clientZipCodeForm.jsp page indicating the error, otherwise it forwards to
 the possibleStaff.jsp page.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Pablo Cataggatan</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../serialized-form.html#edu.matc.controller.ClientZipCodeAPI">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../edu/matc/controller/ClientZipCodeAPI.html#ClientZipCodeAPI--">ClientZipCodeAPI</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/matc/controller/ClientZipCodeAPI.html#callZipCodeAPI-javax.servlet.http.HttpSession-java.lang.String-java.lang.String-">callZipCodeAPI</a></span>(javax.servlet.http.HttpSession&nbsp;session,
              java.lang.String&nbsp;uri,
              java.lang.String&nbsp;apiZipcode)</code>
<div class="block">Calls the zipcode api and creates a map of zipcodes and distances from the result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/matc/controller/ClientZipCodeAPI.html#doGet-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">doGet</a></span>(javax.servlet.http.HttpServletRequest&nbsp;req,
     javax.servlet.http.HttpServletResponse&nbsp;resp)</code>
<div class="block">Handles HTTP GET requests.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../edu/matc/entity/Staff.html" title="class in edu.matc.entity">Staff</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/matc/controller/ClientZipCodeAPI.html#getPossibleStaff-javax.servlet.http.HttpSession-java.util.Map-">getPossibleStaff</a></span>(javax.servlet.http.HttpSession&nbsp;session,
                java.util.Map&lt;java.lang.String,java.lang.Double&gt;&nbsp;zipDistanceMap)</code>
<div class="block">Loops through Staff table and finds any staff with an address zipcode that is in the list of zipcodes from the
 zipcode api result.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/matc/controller/ClientZipCodeAPI.html#getZipCodesAndDistances-edu.matc.com.zipcodeapi.Response-">getZipCodesAndDistances</a></span>(<a href="../../../edu/matc/com/zipcodeapi/Response.html" title="class in edu.matc.com.zipcodeapi">Response</a>&nbsp;zipCodes)</code>
<div class="block">Loops through the zipcode api result and load the zipcodes and distances to a map as keys and values.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.javax.servlet.http.HttpServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.http.HttpServlet</h3>
<code>service</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.javax.servlet.GenericServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.GenericServlet</h3>
<code>destroy, getInitParameter, getInitParameterNames, getServletConfig, getServletContext, getServletInfo, getServletName, init, init, log, log</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ClientZipCodeAPI--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ClientZipCodeAPI</h4>
<pre>public&nbsp;ClientZipCodeAPI()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="doGet-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doGet</h4>
<pre>public&nbsp;void&nbsp;doGet(javax.servlet.http.HttpServletRequest&nbsp;req,
                  javax.servlet.http.HttpServletResponse&nbsp;resp)
           throws javax.servlet.ServletException,
                  java.io.IOException</pre>
<div class="block">Handles HTTP GET requests.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>doGet</code>&nbsp;in class&nbsp;<code>javax.servlet.http.HttpServlet</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>req</code> - the HttpRequest</dd>
<dd><code>resp</code> - the HttpResponse</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code> - if there is a general servlet exception</dd>
<dd><code>java.io.IOException</code> - if there is a general I/O exception</dd>
</dl>
</li>
</ul>
<a name="callZipCodeAPI-javax.servlet.http.HttpSession-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callZipCodeAPI</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Double&gt;&nbsp;callZipCodeAPI(javax.servlet.http.HttpSession&nbsp;session,
                                                                       java.lang.String&nbsp;uri,
                                                                       java.lang.String&nbsp;apiZipcode)
                                                                throws java.io.IOException</pre>
<div class="block">Calls the zipcode api and creates a map of zipcodes and distances from the result.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the HttpSession</dd>
<dd><code>uri</code> - the zipcode api uri</dd>
<dd><code>apiZipcode</code> - the target zipcode</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map containing the zipcodes as keys and distances as values</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - the IOexception</dd>
</dl>
</li>
</ul>
<a name="getZipCodesAndDistances-edu.matc.com.zipcodeapi.Response-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getZipCodesAndDistances</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Double&gt;&nbsp;getZipCodesAndDistances(<a href="../../../edu/matc/com/zipcodeapi/Response.html" title="class in edu.matc.com.zipcodeapi">Response</a>&nbsp;zipCodes)</pre>
<div class="block">Loops through the zipcode api result and load the zipcodes and distances to a map as keys and values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>zipCodes</code> - the zipcode items resulting from zipcode api call</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map</dd>
</dl>
</li>
</ul>
<a name="getPossibleStaff-javax.servlet.http.HttpSession-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPossibleStaff</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../edu/matc/entity/Staff.html" title="class in edu.matc.entity">Staff</a>&gt;&nbsp;getPossibleStaff(javax.servlet.http.HttpSession&nbsp;session,
                                              java.util.Map&lt;java.lang.String,java.lang.Double&gt;&nbsp;zipDistanceMap)</pre>
<div class="block">Loops through Staff table and finds any staff with an address zipcode that is in the list of zipcodes from the
 zipcode api result. If a match is found, it sets the Staff's distance attribute with value from zipode api
 result as well as the hourly rate attribute from a session variable that contains the Code table values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the HttpSession</dd>
<dd><code>zipDistanceMap</code> - Map of zipcodes and distances</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of Staff with address zipcode matching a zipcode in the zipcode api result</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientZipCodeAPI.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../edu/matc/controller/AssignClientForm.html" title="class in edu.matc.controller"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../edu/matc/controller/ClientZipCodeAPIForm.html" title="class in edu.matc.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?edu/matc/controller/ClientZipCodeAPI.html" target="_top">Frames</a></li>
<li><a href="ClientZipCodeAPI.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
